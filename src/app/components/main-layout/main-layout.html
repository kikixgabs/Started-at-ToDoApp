<div class="flex min-h-screen bg-[var(--body-bg)] text-[var(--text-color)] transition-colors duration-300">

  <!-- ðŸ§­ Sidebar Izquierdo -->
  <aside class="fixed sm:relative sm:w-[12rem] w-64 h-full sm:h-auto flex flex-col justify-between border-r border-[var(--border-color)] bg-[var(--sidebar-bg)]/70 backdrop-blur-md p-4 overflow-hidden z-30
           transform transition-transform duration-300 ease-in-out"
    [class.translate-x-0]="sidebarOpen() || !isMobile()" [class.-translate-x-full]="!sidebarOpen() && isMobile()">
    <!-- Branding -->
    <div>
      <h1 class="text-2xl font-bold tracking-tight text-orange-400">
        Reddot<span class="text-zinc-400">Tasks</span>
      </h1>
      <p class="text-xs text-[var(--text-secondary)] mt-1">
        Productivity made simple
      </p>
    </div>

    <!-- Theme selector -->
    <div class="mt-6">
      <app-theme-selector />
    </div>

    <!-- Footer -->
    <div class="text-xs text-[var(--text-secondary)] mt-auto pt-6 border-t border-[var(--border-color)]">
      <p>Â© 2025 Kikixgabs</p>
    </div>
  </aside>

  <!-- Overlay para mÃ³vil cuando el sidebar estÃ¡ abierto -->
  <div class="fixed inset-0 z-20 bg-black transition-opacity duration-300"
    [class.opacity-30]="sidebarOpen() && isMobile()" [class.opacity-0]="!sidebarOpen() || !isMobile()"
    [class.pointer-events-auto]="sidebarOpen() && isMobile()"
    [class.pointer-events-none]="!sidebarOpen() || !isMobile()" (click)="toggleSidebar()"></div>

  <!-- ðŸ§© Contenido Principal -->
  <main class="flex-1 flex flex-col overflow-hidden sm:ml-[12rem] ml-0 relative">
    <!-- BotÃ³n para abrir sidebar en mÃ³vil -->
    @if(isMobile() && !sidebarOpen()) {
    <div class="w-dvw material-symbols-outlined z-40 p-2 bg-orange-400 text-white">
      <button class="" (click)="toggleSidebar()">
        menu
      </button>
    </div>
    }

    <div class="flex flex-col md:flex-row flex-1">
      <!-- Todo List -->
      <div class="flex-1 p-4 sm:p-6 overflow-auto">
        <app-todo-list></app-todo-list>
      </div>

      <!-- Dashboard lateral -->
      <div
        class="w-full sm:w-[25rem] border-t sm:border-t-0 sm:border-l border-[var(--border-color)] bg-[var(--panel-bg)] p-4 sm:p-6 overflow-auto">
        <router-outlet></router-outlet>
      </div>
    </div>
  </main>
</div>